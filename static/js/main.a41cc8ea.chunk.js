(this.webpackJsonpwebadmin=this.webpackJsonpwebadmin||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),o=n.n(r),i=(n(53),n.p,n(54),n(55),n(48)),s="".concat("https://server.confession.lavenes.com",":8082"),d="".concat(s,"/lavenes_api/v1");function h(e){var t=Math.floor((new Date-e)/1e3),n=Math.floor(t/31536e3);return n>1?n+" n\u0103m tr\u01b0\u1edbc":(n=Math.floor(t/2592e3))>1?n+" th\xe1ng tr\u01b0\u1edbc":(n=Math.floor(t/86400))>1?n+" ng\xe0y tr\u01b0\u1edbc":(n=Math.floor(t/3600))>1?n+" gi\u1edd tr\u01b0\u1edbc":(n=Math.floor(t/60))>1?n+" ph\xfat tr\u01b0\u1edbc":Math.floor(t)<=0?"M\u1edbi \u0111\xe2y":Math.floor(t)+" gi\xe2y tr\u01b0\u1edbc"}var u=n(45),l=n(47),j=n(11),b=n.n(j),f=n(46),p=n(8);function g(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),c=n[0],r=n[1],o=Object(f.io)(s);Object(a.useEffect)((function(){b.a.get("".concat(d,"/get_phones")).then((function(e){var t=e.data.sort((function(e,t){return!!e.dateUpdate&&(!!t.dateUpdate&&new Date(t.dateUpdate)-new Date(e.dateUpdate))}));r(t)})),o.on("@server-update-otp",(function(e){b.a.get("".concat(d,"/get_phones")).then((function(e){r(null);var t=e.data.sort((function(e,t){return!!e.dateUpdate&&(!!t.dateUpdate&&new Date(t.dateUpdate)-new Date(e.dateUpdate))}));r(t)})),p.b.success("\u0110\xe3 th\xeam m\xe3 otp m\u1edbi")})),o.on("@server-renew-phone",(function(e){b.a.get("".concat(d,"/get_phones")).then((function(e){r(null);var t=e.data.sort((function(e,t){return!!e.dateRenew&&(!!t.dateRenew&&new Date(t.dateRenew)-new Date(e.dateRenew))}));r(t)})),p.b.warn("C\xf3 thi\u1ebft b\u1ecb m\u1edbi v\u1eeba \u0111\u01b0\u1ee3c renew")}))}),[]);var i=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}();return Object(u.a)({data:c,setData:r,handleSearch:function(e){var t=e.target.value.toLowerCase();i((function(){b.a.get("".concat(d,"/get_phones")).then((function(e){var n=e.data.filter((function(e){return e.phoneId.indexOf(t)>-1||e.number.indexOf(t)>-1}));n=n.sort((function(e,t){return new Date(t.dateUpdate)-new Date(e.dateUpdate)})),r(n)}))}),1e3)},handleSave:function(){b.a.post("".concat(d,"/update_phones"),c).then((function(){p.b.success("L\u01b0u th\xe0nh c\xf4ng!"),o.emit("@client-update-phones")})).catch((function(e){return alert(e)}))}},"setData",r)}n(104);var O=n(1),x=function(e){var t=new g(e),n=t.data,a=t.handleSearch,c=t.handleSave,r=t.setData;return n?Object(O.jsxs)("div",{children:[Object(O.jsx)(p.a,{autoClose:2e3,hideProgressBar:!0,draggable:!0}),Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("h1",{children:"Qu\u1ea3n l\xfd OTP"}),Object(O.jsx)("button",{onClick:c,children:"L\u01b0u"}),Object(O.jsxs)("div",{className:"search-bar",children:[Object(O.jsx)(i.a,{className:"icon"}),Object(O.jsx)("input",{onChange:a,type:"text",placeholder:"T\xecm ki\u1ebfm"})]})]}),Object(O.jsxs)("table",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(O.jsx)("th",{children:"Note"}),Object(O.jsx)("th",{children:"Id thi\u1ebft b\u1ecb"}),Object(O.jsx)("th",{children:"Th\u1eddi gian th\xeam \u0111i\u1ec7n tho\u1ea1i"}),Object(O.jsx)("th",{children:"Gi\u1edd t\u1ea1o OTP"}),Object(O.jsx)("th",{children:"M\xe3 OTP"})]}),n.map((function(e,t){var a=new Date(e.dateRenew);return Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{children:[Object(O.jsx)("input",{type:"text",className:"textbox",defaultValue:e.number,onChange:function(e){n[t].number=e.target.value,r(n)}})," "]}),Object(O.jsx)("td",{children:Object(O.jsx)("textarea",{onChange:function(e){n[t].note=e.target.value,r(n)},children:e.note})}),Object(O.jsx)("td",{children:e.phoneId}),Object(O.jsxs)("td",{children:[a.getDate()<=9?"0"+a.getDate():a.getDate(),"/",a.getMonth()+1<=9?"0"+(a.getMonth()+1):a.getMonth()+1,"/",a.getFullYear()," l\xfac ",a.getHours()<=9?"0"+a.getHours():a.getHours(),":",a.getMinutes()<=9?"0"+a.getMinutes():a.getMinutes()]}),Object(O.jsx)("td",{children:e.dateUpdate?h(new Date(e.dateUpdate)):""}),Object(O.jsx)("td",{onClick:function(){navigator.clipboard.writeText(e.otp),p.b.success("\u0110\xe3 copy m\xe3 ".concat(e.number," v\xe0o clipboard!"))},children:Object(O.jsx)("b",{children:e.otp})})]},"phone-item-".concat(t))}))]})]}):Object(O.jsx)("div",{})};var v=function(){return Object(O.jsx)(x,{})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(v,{})}),document.getElementById("root")),m()},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.a41cc8ea.chunk.js.map